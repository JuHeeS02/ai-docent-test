<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Touring</title>
    <style>
        /* Basic reset and styling */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background-color: #1a1a1a;
            color: #fff;
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            min-height: 100vh;
        }
        .content {
            width: 100%;
            max-width: 600px;
        }
        .artwork {
            width: 100%;
            max-width: 400px;
            border-radius: 10px;
            margin: 20px auto;
            display: block;
        }
        .response-container {
            background-color: #333;
            padding: 1em;
            border-radius: 10px;
            margin-bottom: 1em;
            display: flex;
            flex-direction: column;
            gap: 1em;
        }
        .ai-response {
            font-size: 1em;
            line-height: 1.5;
            color: #ddd;
        }
        .next-button {
            background-color: #8B3E3E;
            color: #fff;
            border: none;
            border-radius: 25px;
            padding: 0.75em;
            width: 100%;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
            text-align: center;
        }
        .next-button:hover {
            background-color: #A84D4D;
        }
        .question-section {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        .question-input {
            flex-grow: 1;
            padding: 0.5em;
            border-radius: 20px;
            border: none;
            font-size: 1em;
            color: #000;
        }
        .icon-button {
            background-color: #555;
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="content">
        <img id="artworkImage" alt="Artwork" class="artwork">
        
        <div class="response-container">
            <div class="ai-response" id="description">
                Loading description...
            </div>
        </div>

        <div class="question-section">
            <input type="text" class="question-input" id="questionInput" placeholder="Ask a question...">
            <button class="icon-button" onclick="simulateVoiceInput()">🎤</button>
            <button class="icon-button" onclick="sendQuestion()">➞</button>
        </div>

        <button class="next-button" onclick="goToNextArtwork()">다음 작품으로 넘어가기</button>
    </div>

    <script>
        // Sample artwork data
        const artworks = [
            { id: 1, 
                title: "The Grande Galerie",
                image: "https://github.com/JuHeeS02/ai-docent-test/blob/main/dataimg/%EB%A3%A8%EB%B8%8C%EB%A5%B4%EC%BD%94%EC%8A%A41/img7-2.png?raw=true",
                description: "루브르 박물관의 이탈리아 미술 컬렉션에는 르네상스 시대의 가장 위대한 예술가 중 한 명인 레오나르도 다빈치가 그린 그림 5점과 드로잉 22점이 포함되어 있습니다. \n\n La Belle Ferronnière로 알려진 여인의 초상 레오나르도 다빈치 뛰어난 초상화 La Belle Ferronnière 에 나오는 여인의 강렬한 시선은 살아있는 순간을 포착하려는 레오나르도의 관심을 반영합니다. 작품의 제목은 화가 앵그르가 초상화의 복사본을 만들어 루브르 박물관의 다른 그림의 이름을 붙인 실수에서 유래했습니다. 모델의 신원은 불확실하지만, 그녀는 밀라노 공작 루도비코 스포르차의 애인이었던 루크레치아 크리벨리였을 수 있으며, 레오나르도는 몇 년 동안 그녀를 위해 일했습니다.\n\n 성녀 앤, 어린 양과 놀고 있는 성모 마리아와 유아 예수, 성녀 앤으로 알려짐 레오나르도 다빈치 성모 마리아와 아기 예수, 마리아의 어머니 앤을 묘사한 성 안나 의 대형 그림에서 인물들의 포즈와 배열은 특히 인상적이다. 배경의 판타지 풍경은 시간을 초월하는 느낌을 만들어내며, 레오나르도의 유명한 '스푸마토' 기법으로 더욱 강조되어 전체 장면에 안개 낀 베일을 드리워 신비로운 부드러움으로 감싼다." 
            }
        ];

        function loadArtwork() {
            const artwork = artworks[0]; // artworks 배열의 첫 번째 작품 데이터 사용
            document.getElementById('artworkImage').src = artwork.image;
            document.getElementById('artworkImage').alt = artwork.title; // 이미지 설명 추가
            document.getElementById('description').textContent = artwork.description;
        }

        async function sendQuestion() {
            const question = document.getElementById('questionInput').value;
            if (!question) {
                alert("질문을 입력하세요.");
                return;
            }

            // OpenAI API 엔드포인트
            const apiUrl = 'https://api.openai.com/v1/completions';
            const apiKey = 'YOUR_OPENAI_API_KEY'; // 여기에 본인의 OpenAI API 키를 입력하세요.

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: "text-davinci-003",
                        prompt: question,
                        max_tokens: 150,
                        temperature: 0.7
                    })
                });

                const data = await response.json();
                const answer = data.choices[0].text.trim();
                document.getElementById('description').textContent = `AI 응답: ${answer}`;
            } catch (error) {
                console.error('Error:', error);
                alert("응답을 가져오는 중 문제가 발생했습니다.");
            }
        }

        function goToNextArtwork() {
            window.location.href = 'tourstart7.html';
        }

        window.onload = loadArtwork;
    </script>
</body>
</html>
